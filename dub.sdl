name "kameloso"
description "IRC bot"
authors "JR"
copyright "Copyright Â© 2020, JR"
homepage "https://www.github.com/zorael/kameloso"
license "MIT"

targetType "executable"
mainSourceFile "source/kameloso/main.d"
dflags "-dip25" "-dip1008"
libs "phobos2" platform="posix-dmd"
x:ddoxTool "scod"

dependency "lu" version="~>0.2.2"
dependency "dialect" version="~>0.4.2"

sourcePaths "include" "source"
importPaths "include" "source"

versions \
    "WithPlugins" \
    "WithAdminPlugin" \
    "WithAutomodePlugin" \
    "WithBashQuotesPlugin" \
    "WithChanQueriesService" \
    "WithChatbotPlugin" \
    "WithConnectService" \
    "WithCTCPService" \
    "WithHelpPlugin" \
    "WithNotesPlugin" \
    "WithOnelinersPlugin" \
    "WithPersistenceService" \
    "WithPipelinePlugin" \
    "WithPrinterPlugin" \
    "WithQuotesPlugin" \
    "WithSedReplacePlugin" \
    "WithSeenPlugin" \
    "WithWebtitlesPlugin"

configuration "application" {
    dependency "requests" version="~>1.0.14"
    dependency "arsd-official:dom" version="~>7.1.1"

    versions \
        "Colours" \
        "Web"
}

configuration "twitch" {
    dependency "requests" version="~>1.0.14"
    dependency "arsd-official:dom" version="~>7.1.1"
    subConfiguration "dialect" "twitch"

    versions \
        "Colours" \
        "Web" \
        "TwitchSupport" \
        "WithTwitchBotPlugin"
}

configuration "dev" {
    dependency "requests" version="~>1.0.14"
    dependency "arsd-official:dom" version="~>7.1.1"
    subConfiguration "dialect" "dev"

    versions \
        "Colours" \
        "Web" \
        "TwitchSupport" \
        "WithTwitchBotPlugin" \
        "TwitchWarnings" \
        "OmniscientAdmin" \
        "PrintStacktraces" \
        "ExplainReplay" \
        "ProfileGC" \
        "AdminAssertGeneration"
}

configuration "vanilla" {
    targetType "executable"
    // Mustn't be empty
}

configuration "colours" {
    versions \
        "Colours"
}

configuration "web" {
    dependency "requests" version="~>1.0.14"
    dependency "arsd-official:dom" version="~>7.1.1"

    versions \
        "Web"
}

configuration "full" {
    dependency "requests" version="~>1.0.14"
    dependency "arsd-official:dom" version="~>7.1.1"
    subConfiguration "dialect" "twitch"

    versions \
        "Colours" \
        "Web" \
        "TwitchSupport"
}

configuration "unittest" {
    dependency "requests" version="~>1.0.14"
    dependency "arsd-official:dom" version="~>7.1.1"
    subConfiguration "dialect" "dev"

    versions \
        "Colours" \
        "Web" \
        "TwitchSupport" \
        "WithTwitchBotPlugin" \
        "TwitchWarnings" \
        "OmniscientAdmin" \
        "PrintStacktraces" \
        "ExplainReplay" \
        "ProfileGC" \
        "AdminAssertGeneration"
}
