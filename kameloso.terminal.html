<!DOCTYPE html>
<html lang="en">
<head>
        <title>kameloso.terminal (kameloso.terminal)</title>
	<meta charset="utf-8" />
	<meta content="width=device-width, initial-scale=1" name="viewport" />
        <link href="style.css" rel="stylesheet" />
        <script src="script.js" type="text/javascript"></script>

	
	<link href="search-results.html" rel="prefetch" />
</head>
<body>
	<div id="page-header">
		<div id="logotype">
		<span>kameloso IRC bot</span>
		<nav>
			<a href="http://dlang.org/">Dlang.org</a>
		</nav>
		</div>

		<form action="search-docs.html" id="search">
			<input name="searchTerm" placeholder="Find a symbol name..." type="search" />
			<input type="submit" value="Go" />
		</form>
	</div>
	<div id="page-body">
		<div id="page-content">
		<h1>kameloso.terminal</h1><div class="breadcrumbs"><a class="breadcrumb" href="kameloso.html">kameloso</a> </div><div><div class="documentation-comment synopsis"><div><p>A collection of enums and functions that relate to a terminal shell.</p><p>Much of this module has to do with terminal text colouring and is therefore
    version <tt class="inline-code">Colours</tt>.</p></div></div></div><div class="annotated-prototype"></div><h2 id="members"><a class="header-anchor" href="#members">Members</a></h2><h3 class="member-list-header hide-from-toc" id="enum"><a class="header-anchor" href="#enum">Enums</a></h3><dl class="member-list native"><dt><a href="kameloso.terminal.TerminalBackground.html">TerminalBackground</a><div class="simplified-prototype" style="max-width: 25ch;"><span class="builtin-type">enum</span> <span class="name">TerminalBackground</span></div></dt><dd><div><p>Background colour codes for terminal colouring.</p></div></dd><dt><a href="kameloso.terminal.TerminalForeground.html">TerminalForeground</a><div class="simplified-prototype" style="max-width: 25ch;"><span class="builtin-type">enum</span> <span class="name">TerminalForeground</span></div></dt><dd><div><p>Foreground colour codes for terminal colouring.</p></div></dd><dt><a href="kameloso.terminal.TerminalFormat.html">TerminalFormat</a><div class="simplified-prototype" style="max-width: 20ch;"><span class="builtin-type">enum</span> <span class="name">TerminalFormat</span></div></dt><dd><div><p>Format codes that work like terminal colouring does, except here for formats
    like bold, dim, italics, etc.</p></div></dd><dt><a href="kameloso.terminal.TerminalReset.html">TerminalReset</a><div class="simplified-prototype" style="max-width: 19ch;"><span class="builtin-type">enum</span> <span class="name">TerminalReset</span></div></dt><dd><div><p>Terminal colour/format reset codes.</p></div></dd><dt><a href="kameloso.terminal.TerminalToken.html">TerminalToken</a><div class="simplified-prototype" style="max-width: 19ch;"><span class="builtin-type">enum</span> <span class="name">TerminalToken</span></div></dt><dd><div><p>Special terminal control characters.</p></div></dd><dt><a href="kameloso.terminal.isAColourCode.html">isAColourCode</a><div class="simplified-prototype" style="max-width: 37ch;"><span class="builtin-type">eponymoustemplate</span> <span class="name">isAColourCode</span><span class="template-params">(T)</span></div></dt><dd><div><p>Bool of whether or not a type is a colour code enum.</p></div></dd></dl><h3 class="member-list-header hide-from-toc" id="function"><a class="header-anchor" href="#function">Functions</a></h3><dl class="member-list native"><dt><a href="kameloso.terminal.colour.1.html">colour</a><div class="simplified-prototype" style="max-width: 28ch;"><tt class="highlighted"><span class="type">string</span></tt> <span class="name">colour</span>(Codes codes)</div></dt><dd><div><p>Takes a mix of a <a class="xref" href="kameloso.terminal.TerminalForeground.html">TerminalForeground</a>, a <a class="xref" href="kameloso.terminal.TerminalBackground.html">TerminalBackground</a>, a
    <a class="xref" href="kameloso.terminal.TerminalFormat.html">TerminalFormat</a> and/or a <a class="xref" href="kameloso.terminal.TerminalReset.html">TerminalReset</a> and composes them into a single
    terminal format code token. Overload that creates an <a class="xref" href="std.array.Appender.html">std.array.Appender</a>
    and fills it with the return value of the output range version of <tt class="inline-code">colour</tt>.</p></div></dd><dt><a href="kameloso.terminal.colour.2.html">colour</a><div class="simplified-prototype" style="max-width: 42ch;"><tt class="highlighted"><span class="type">string</span></tt> <span class="name">colour</span>(string text, Codes codes)</div></dt><dd><div><p>Convenience function to colour or format a piece of text without an output
    buffer to fill into.</p></div></dd><dt><a href="kameloso.terminal.colourByHash.1.html">colourByHash</a><div class="simplified-prototype" style="max-width: 81ch;"><tt class="highlighted"><span class="hid">TerminalForeground</span></tt> <span class="name">colourByHash</span>(string word, TerminalForeground[] fgArray)</div></dt><dd><div><p>Hashes the passed string and picks a <a class="xref" href="kameloso.terminal.TerminalForeground.html">TerminalForeground</a> colour by modulo.
    Overload that takes an array of <a class="xref" href="kameloso.terminal.TerminalForeground.html">TerminalForeground</a>s, to pick between.</p></div></dd><dt><a href="kameloso.terminal.colourByHash.2.html">colourByHash</a><div class="simplified-prototype" style="max-width: 81ch;"><tt class="highlighted"><span class="hid">TerminalForeground</span></tt> <span class="name">colourByHash</span>(string word, Flag!&quot;brightTerminal&quot; bright)</div></dt><dd><div><p>Hashes the passed string and picks a <a class="xref" href="kameloso.terminal.TerminalForeground.html">TerminalForeground</a> colour by modulo.
    Overload that picks any colour, taking care not to pick black or white based on
    the value of the passed <tt class="inline-code">bright</tt> bool (which signifies a bright terminal background).</p></div></dd><dt><a href="kameloso.terminal.colourWith.html">colourWith</a><div class="simplified-prototype" style="max-width: 42ch;"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">colourWith</span>(Sink sink, Codes codes)</div></dt><dd><div><p>Takes a mix of a <a class="xref" href="kameloso.terminal.TerminalForeground.html">TerminalForeground</a>, a <a class="xref" href="kameloso.terminal.TerminalBackground.html">TerminalBackground</a>, a
    <a class="xref" href="kameloso.terminal.TerminalFormat.html">TerminalFormat</a> and/or a <a class="xref" href="kameloso.terminal.TerminalReset.html">TerminalReset</a> and composes them into a format code token.</p></div></dd><dt><a href="kameloso.terminal.ensureAppropriateBuffering.html">ensureAppropriateBuffering</a><div class="simplified-prototype" style="max-width: 51ch;"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">ensureAppropriateBuffering</span>(bool override_)</div></dt><dd><div><p>Ensures select non-TTY environments (like Cygwin) are line-buffered.
    Allows for overriding behaviour and forcing the change in buffer mode.</p></div></dd><dt><a href="kameloso.terminal.invert.html">invert</a><div class="simplified-prototype" style="max-width: 47ch;"><tt class="highlighted"><span class="type">string</span></tt> <span class="name">invert</span>(string line, string toInvert)</div></dt><dd><div><p>Terminal-inverts the colours of a piece of text in a string.</p></div></dd><dt><a href="kameloso.terminal.isTTY.1.html">isTTY</a><div class="simplified-prototype" style="max-width: 13ch;"><tt class="highlighted"><span class="type">bool</span></tt> <span class="name">isTTY</span>()</div></dt><dd><div><p>Determines whether or not the program is being run in a terminal (virtual TTY).</p></div></dd><dt><a href="kameloso.terminal.normaliseColours.html">normaliseColours</a><div class="simplified-prototype" style="max-width: 49ch;"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">normaliseColours</span>(uint r, uint g, uint b)</div></dt><dd><div><p>Takes a colour and, if it deems it is too dark to see on a black terminal
    background, makes it brighter.</p></div></dd><dt><a href="kameloso.terminal.normaliseColoursBright.html">normaliseColoursBright</a><div class="simplified-prototype" style="max-width: 56ch;"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">normaliseColoursBright</span>(uint r, uint g, uint b)</div></dt><dd><div><p>Takes a colour and, if it deems it is too bright to see on a light terminal
    background, makes it darker.</p></div></dd><dt><a href="kameloso.terminal.resetConsoleModeAndCodepage.html">resetConsoleModeAndCodepage</a><div class="simplified-prototype" style="max-width: 37ch;"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">resetConsoleModeAndCodepage</span>()</div></dt><dd><div><p>Resets the console codepage and console mode to the values they had at
        program start.</p></div></dd><dt><a href="kameloso.terminal.setConsoleModeAndCodepage.html">setConsoleModeAndCodepage</a><div class="simplified-prototype" style="max-width: 35ch;"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">setConsoleModeAndCodepage</span>()</div></dt><dd><div><p>Sets the console codepage to display UTF-8 characters (&#229;&#228;&#246;, &#39640;&#25152;&#24656;&#24598;&#30151;, ...)
        and the console mode to display terminal colours.</p></div></dd><dt><a href="kameloso.terminal.setTitle.html">setTitle</a><div class="simplified-prototype" style="max-width: 29ch;"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">setTitle</span>(string title)</div></dt><dd><div><p>Sets the terminal title to a given string. Supposedly.</p></div></dd><dt><a href="kameloso.terminal.truecolour.1.html">truecolour</a><div class="simplified-prototype" style="max-width: 79ch;"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">truecolour</span>(Sink sink, uint r, uint g, uint b, Flag!&quot;bright&quot; bright)</div></dt><dd><div><p>Produces a terminal colour token for the colour passed, expressed in terms
    of red, green and blue.</p></div></dd><dt><a href="kameloso.terminal.truecolour.2.html">truecolour</a><div class="simplified-prototype" style="max-width: 83ch;"><tt class="highlighted"><span class="type">string</span></tt> <span class="name">truecolour</span>(string word, uint r, uint g, uint b, Flag!&quot;bright&quot; bright)</div></dt><dd><div><p>Convenience function to colour a piece of text without being passed an
    output sink to fill into.</p></div></dd></dl><h3 class="member-list-header hide-from-toc" id="static variable"><a class="header-anchor" href="#static variable">Static variables</a></h3><dl class="member-list native"><dt><a href="kameloso.terminal.originalCP.html">originalCP</a><div class="simplified-prototype" style="max-width: 17ch;"><tt class="highlighted"><span class="type">uint</span></tt> <span class="name">originalCP</span>;</div></dt><dd><div><p>Original codepage at program start.</p></div></dd><dt><a href="kameloso.terminal.originalConsoleMode.html">originalConsoleMode</a><div class="simplified-prototype" style="max-width: 27ch;"><tt class="highlighted"><span class="type">uint</span></tt> <span class="name">originalConsoleMode</span>;</div></dt><dd><div><p>Original console mode at program start.</p></div></dd><dt><a href="kameloso.terminal.originalOutputCP.html">originalOutputCP</a><div class="simplified-prototype" style="max-width: 24ch;"><tt class="highlighted"><span class="type">uint</span></tt> <span class="name">originalOutputCP</span>;</div></dt><dd><div><p>Original output codepage at program start.</p></div></dd></dl><div><h2 id="examples"><a class="header-anchor" href="#examples">Examples</a></h2><div class="documentation-comment"><div><pre class="d_code highlighted with-line-wrappers"><span class="br">1 </span><span class="hid">Appender</span>!(<span class="type">char</span>[]) <span class="hid">sink</span>;
<span class="br">2 </span>
<span class="br">3 </span><span class="com">// Output range version</span>
<span class="br">4 </span><span class="hid">sink</span>.<span class="hid">put</span>(<span class="str">&quot;Hello &quot;</span>);
<span class="br">5 </span><span class="hid">sink</span>.<span class="hid">colourWith</span>(<span class="hid">TerminalForeground</span>.<span class="hid">red</span>);
<span class="br">6 </span><span class="hid">sink</span>.<span class="hid">put</span>(<span class="str">&quot;world!&quot;</span>);
<span class="br">7 </span><span class="hid">sink</span>.<span class="hid">colourWith</span>(<span class="hid">TerminalForeground</span>.<span class="hid">default_</span>);
<span class="br">8 </span>
<span class="br">9 </span><span class="kwrd">with</span> (<span class="hid">TerminalForeground</span>)
<span class="br">10 </span>{
<span class="br">11 </span>    <span class="com">// Normal string-returning version</span>
<span class="br">12 </span>    <span class="hid">writeln</span>(<span class="str">&quot;Hello &quot;</span>, <span class="hid">red</span>.<span class="hid">colour</span>, <span class="str">&quot;world!&quot;</span>, <span class="hid">default_</span>.<span class="hid">colour</span>);
<span class="br">13 </span>}
<span class="br">14 </span>
<span class="br">15 </span><span class="com">// Also accepts RGB form</span>
<span class="br">16 </span><span class="hid">sink</span>.<span class="hid">put</span>(<span class="str">&quot; Also&quot;</span>);
<span class="br">17 </span><span class="hid">sink</span>.<span class="hid">truecolour</span>(<span class="num">128</span>, <span class="num">128</span>, <span class="num">255</span>);
<span class="br">18 </span><span class="hid">sink</span>.<span class="hid">put</span>(<span class="str">&quot;magic&quot;</span>);
<span class="br">19 </span><span class="hid">sink</span>.<span class="hid">colourWith</span>(<span class="hid">TerminalForeground</span>.<span class="hid">default_</span>);
<span class="br">20 </span>
<span class="br">21 </span><span class="kwrd">with</span> (<span class="hid">TerminalForeground</span>)
<span class="br">22 </span>{
<span class="br">23 </span>    <span class="hid">writeln</span>(<span class="str">&quot;Also &quot;</span>, <span class="hid">truecolour</span>(<span class="num">128</span>, <span class="num">128</span>, <span class="num">255</span>), <span class="str">&quot;magic&quot;</span>, <span class="hid">default_</span>.<span class="hid">colour</span>);
<span class="br">24 </span>}
<span class="br">25 </span>
<span class="br">26 </span><span class="kwrd">immutable</span> <span class="hid">line</span> = <span class="str">&quot;Surrounding text kameloso surrounding text&quot;</span>;
<span class="br">27 </span><span class="kwrd">immutable</span> <span class="hid">kamelosoInverted</span> = <span class="hid">line</span>.<span class="hid">invert</span>(<span class="str">&quot;kameloso&quot;</span>);
<span class="br">28 </span><span class="kwrd">assert</span>(<span class="hid">line</span> != <span class="hid">kamelosoInverted</span>);
<span class="br">29 </span>
<span class="br">30 </span><span class="kwrd">immutable</span> <span class="hid">tintedNickname</span> = <span class="str">&quot;nickname&quot;</span>.<span class="hid">colourByHash</span>(<span class="kwrd">false</span>);   <span class="com">// &quot;for bright background&quot; false</span>
<span class="br">31 </span><span class="kwrd">immutable</span> <span class="hid">tintedSubstring</span> = <span class="str">&quot;substring&quot;</span>.<span class="hid">colourByHash</span>(<span class="kwrd">true</span>);  <span class="com">// &quot;for bright background&quot; true</span></pre><p>It is used heavily in the Printer plugin, to format sections of its output
    in different colours, but it's generic enough to use anywhere.</p><p>The output range versions are cumbersome but necessary to minimise the number
    of strings generated.</p></div></div></div></div>
		<div id="page-nav"><a class="parent" href="kameloso.html">kameloso</a> 
		<span class="type-separator">modules</span><ul><li><a class="module" href="kameloso.common.html">common</a></li><li><a class="module" href="kameloso.config.html">config</a></li><li><a class="module" href="kameloso.constants.html">constants</a></li><li><a class="module" href="kameloso.entrypoint.html">entrypoint</a></li><li><a class="module" href="kameloso.irccolours.html">irccolours</a></li><li><a class="module" href="kameloso.kameloso.html">kameloso</a></li><li><a class="module" href="kameloso.logger.html">logger</a></li><li><a class="module" href="kameloso.main.html">main</a></li><li><a class="module" href="kameloso.messaging.html">messaging</a></li><li><a class="module" href="kameloso.net.html">net</a></li><li><a class="module" href="kameloso.platform.html">platform</a></li><li><a class="module" href="kameloso.plugins.html">plugins</a></li><li><a class="module" href="kameloso.printing.html">printing</a></li><li><a class="module" href="kameloso.semver.html">semver</a></li><li><a class="module current" href="kameloso.terminal.html">terminal</a></li><li><a class="module" href="kameloso.thread.html">thread</a></li><li><a class="module" href="kameloso.traits.html">traits</a></li></ul></div>
	</div>
	<div id="page-footer">Page generated by <a href="https://github.com/adamdruppe/adrdox">adrdox</a></div>
</body>
</html>