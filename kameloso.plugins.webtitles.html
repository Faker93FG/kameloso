<!DOCTYPE html>
<html lang="en">
<head>
        <title>kameloso.plugins.webtitles (kameloso.plugins.webtitles)</title>
	<meta charset="utf-8" />
	<meta content="width=device-width, initial-scale=1" name="viewport" />
        <link href="style.css" rel="stylesheet" />
        <script src="script.js" type="text/javascript"></script>

	
	<link href="search-results.html" rel="prefetch" />
</head>
<body>
	<div id="page-header">
		<div id="logotype">
		<span>kameloso IRC bot</span>
		<nav>
			<a href="http://dlang.org/">Dlang.org</a>
		</nav>
		</div>

		<form action="search-docs.html" id="search">
			<input name="searchTerm" placeholder="Find a symbol name..." type="search" />
			<input type="submit" value="Go" />
		</form>
	</div>
	<div id="page-body">
		<div id="page-content">
		<h1>kameloso.plugins.webtitles</h1><div class="breadcrumbs"><a class="breadcrumb" href="kameloso.html">kameloso</a> <a class="breadcrumb" href="kameloso.plugins.html">plugins</a> </div><div><div class="documentation-comment synopsis"><div><p>The Webtitles plugin catches URLs pasted in a channel, follows them and
    reports back the title of the web page that was linked to.</p><p>It has no bot commands; everything is done by automatically scanning channel
    and private query messages for things that look like links.</p></div></div></div><div class="annotated-prototype"></div><h2 id="members"><a class="header-anchor" href="#members">Members</a></h2><h3 class="member-list-header hide-from-toc" id="class"><a class="header-anchor" href="#class">Classes</a></h3><dl class="member-list native"><dt><a href="kameloso.plugins.webtitles.WebtitlesPlugin.html">WebtitlesPlugin</a><div class="simplified-prototype" style="max-width: 23ch;"><span class="builtin-type">class</span> <span class="name">WebtitlesPlugin</span></div></dt><dd><div><p>The Webtitles plugin catches HTTP URL links in messages, connects to
    their servers and and streams the web page itself, looking for the web page's
    title. This is then reported to the originating channel or personal query.</p></div></dd></dl><h3 class="member-list-header hide-from-toc" id="function"><a class="header-anchor" href="#function">Functions</a></h3><dl class="member-list native"><dt><a href="kameloso.plugins.webtitles.decodeTitle.html">decodeTitle</a><div class="simplified-prototype" style="max-width: 35ch;"><tt class="highlighted"><span class="type">string</span></tt> <span class="name">decodeTitle</span>(string title)</div></dt><dd><div><p>Removes unwanted characters from a title, and decodes HTML entities in it
    (like <tt class="inline-code">&amp;mdash;</tt> and <tt class="inline-code">&amp;nbsp;</tt>).</p></div></dd><dt><a href="kameloso.plugins.webtitles.getYouTubeInfo.html">getYouTubeInfo</a><div class="simplified-prototype" style="max-width: 39ch;"><tt class="highlighted"><span class="hid">JSONValue</span></tt> <span class="name">getYouTubeInfo</span>(string url)</div></dt><dd><div><p>Fetches the JSON description of a YouTube video link, allowing us to report
    it the page's title without having to actually fetch the video page.</p></div></dd><dt><a href="kameloso.plugins.webtitles.lookupTitle.html">lookupTitle</a><div class="simplified-prototype" style="max-width: 83ch;"><tt class="highlighted"><span class="hid">TitleLookupResults</span></tt> <span class="name">lookupTitle</span>(string url, Flag!&quot;descriptions&quot; descriptions)</div></dt><dd><div><p>Given a URL, tries to look up the web page title of it.</p></div></dd><dt><a href="kameloso.plugins.webtitles.lookupURLs.html">lookupURLs</a><div class="simplified-prototype" style="max-width: 77ch;"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">lookupURLs</span>(WebtitlesPlugin plugin, IRCEvent event, string[] urls)</div></dt><dd><div><p>Looks up the URLs in the passed <tt class="inline-code">string[]</tt> <tt class="inline-code">urls</tt> by spawning a worker
    thread to do all the work.</p></div></dd><dt><a href="kameloso.plugins.webtitles.onBusMessage.html">onBusMessage</a><div class="simplified-prototype" style="max-width: 81ch;"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">onBusMessage</span>(WebtitlesPlugin plugin, string header, Sendable content)</div></dt><dd><div><p>Catches bus messages with the &quot;<tt class="inline-code">webtitles</tt>&quot; header requesting URLs to be
    looked up and the titles of which reported.</p></div></dd><dt><a href="kameloso.plugins.webtitles.onMessage.html">onMessage</a><div class="simplified-prototype" style="max-width: 59ch;"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">onMessage</span>(WebtitlesPlugin plugin, IRCEvent event)</div></dt><dd><div><p>Parses a message to see if the message contains one or more URLs.</p></div></dd><dt><a href="kameloso.plugins.webtitles.prune.html">prune</a><div class="simplified-prototype" style="max-width: 70ch;"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">prune</span>(TitleLookupResults[string] cache, uint expireSeconds)</div></dt><dd><div><p>Garbage-collects old entries in a <tt class="inline-code">TitleLookupResults[string]</tt> lookup cache.</p></div></dd><dt><a href="kameloso.plugins.webtitles.reportTitle.html">reportTitle</a><div class="simplified-prototype" style="max-width: 94ch;"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">reportTitle</span>(TitleLookupRequest request, Flag!&quot;colouredOutgoing&quot; colouredOutgoing)</div></dt><dd><div><p>Echoes the result of a web title lookup to a channel.</p></div></dd><dt><a href="kameloso.plugins.webtitles.reportYouTubeTitle.html">reportYouTubeTitle</a><div class="simplified-prototype" style="max-width: 102ch;"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">reportYouTubeTitle</span>(TitleLookupRequest request, Flag!&quot;colouredOutgoing&quot; colouredOutgoing)</div></dt><dd><div><p>Echoes the result of a YouTube lookup to a channel.</p></div></dd><dt><a href="kameloso.plugins.webtitles.rewriteDirectImgurURL.html">rewriteDirectImgurURL</a><div class="simplified-prototype" style="max-width: 44ch;"><tt class="highlighted"><span class="type">string</span></tt> <span class="name">rewriteDirectImgurURL</span>(string url)</div></dt><dd><div><p>Takes a direct imgur link (one that points to an image) and rewrites it to
    instead point to the image's page.</p></div></dd><dt><a href="kameloso.plugins.webtitles.start.html">start</a><div class="simplified-prototype" style="max-width: 37ch;"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">start</span>(WebtitlesPlugin plugin)</div></dt><dd><div><p>Initialises the shared cache, else it won't retain changes.</p></div></dd><dt><a href="kameloso.plugins.webtitles.worker.html">worker</a><div class="simplified-prototype" style="max-width: 180ch;"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">worker</span>(TitleLookupRequest sRequest, TitleLookupResults[string] cache, ulong delayMsecs, Flag!&quot;colouredOutgoing&quot; colouredFlag, Flag!&quot;descriptions&quot; descriptions)</div></dt><dd><div><p>Looks up and reports the title of a URL.</p></div></dd></dl><h3 class="member-list-header hide-from-toc" id="struct"><a class="header-anchor" href="#struct">Structs</a></h3><dl class="member-list native"><dt><a href="kameloso.plugins.webtitles.TitleLookupRequest.html">TitleLookupRequest</a><div class="simplified-prototype" style="max-width: 27ch;"><span class="builtin-type">struct</span> <span class="name">TitleLookupRequest</span></div></dt><dd><div><p>A record of a URL lookup request.</p></div></dd><dt><a href="kameloso.plugins.webtitles.TitleLookupResults.html">TitleLookupResults</a><div class="simplified-prototype" style="max-width: 27ch;"><span class="builtin-type">struct</span> <span class="name">TitleLookupResults</span></div></dt><dd><div><p>A record of a URL lookup.</p></div></dd><dt><a href="kameloso.plugins.webtitles.WebtitlesSettings.html">WebtitlesSettings</a><div class="simplified-prototype" style="max-width: 26ch;"><span class="builtin-type">struct</span> <span class="name">WebtitlesSettings</span></div></dt><dd><div><p>All Webtitles settings, gathered in a struct.</p></div></dd></dl><h3 class="member-list-header hide-from-toc" id="variable"><a class="header-anchor" href="#variable">Variables</a></h3><dl class="member-list native"><dt><a href="kameloso.plugins.webtitles.descriptionExemptions.html">descriptionExemptions</a><div class="simplified-prototype" style="max-width: 29ch;"><span class="builtin-type">auto</span> <span class="name">descriptionExemptions</span>;</div></dt><dd><div><p>Hostnames explicitly exempt from having their descriptions included after the titles.</p></div></dd></dl><h2 id="mixed-in-members"><a class="header-anchor" href="#mixed-in-members">Mixed In Members</a></h2><h3 id="from-mixin-minimalauthentication-">From <tt class="highlighted"><span class="kwrd">mixin</span> <span class="hid">MinimalAuthentication</span> </tt></h3><dl class="member-list native"><dt><a href="kameloso.plugins.common.awareness.MinimalAuthentication.hasMinimalAuthentication.html">hasMinimalAuthentication</a><div class="simplified-prototype" style="max-width: 33ch;"><span class="builtin-type">enum</span> <span class="name">hasMinimalAuthentication</span>;</div></dt><dd><div><p>Flag denoting that <a class="xref" href="kameloso.plugins.common.awareness.MinimalAuthentication.html">MinimalAuthentication</a> has been mixed in.</p></div></dd><dt><a href="kameloso.plugins.common.awareness.MinimalAuthentication.onMinimalAuthenticationAccountInfoTargetMixin.html">onMinimalAuthenticationAccountInfoTargetMixin</a><div class="simplified-prototype" style="max-width: 92ch;"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">onMinimalAuthenticationAccountInfoTargetMixin</span>(IRCPlugin plugin, IRCEvent event)</div></dt><dd><div><p>Proxies to <a class="xref" href="kameloso.plugins.common.awareness.onMinimalAuthenticationAccountInfoTarget.html">kameloso.plugins.common.awareness.onMinimalAuthenticationAccountInfoTarget</a>.</p></div></dd><dt><a href="kameloso.plugins.common.awareness.MinimalAuthentication.onMinimalAuthenticationUnknownCommandWHOIS.html">onMinimalAuthenticationUnknownCommandWHOIS</a><div class="simplified-prototype" style="max-width: 89ch;"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">onMinimalAuthenticationUnknownCommandWHOIS</span>(IRCPlugin plugin, IRCEvent event)</div></dt><dd><div><p>Proxies to <a class="xref" href="kameloso.plugins.common.awareness.onMinimalAuthenticationUnknownCommandWHOIS.html">kameloso.plugins.common.awareness.onMinimalAuthenticationUnknownCommandWHOIS</a>.</p></div></dd></dl><div></div></div>
		<div id="page-nav"><a class="parent" href="kameloso.html">kameloso</a> <a class="parent" href="kameloso.plugins.html">plugins</a> 
		<span class="type-separator">modules</span><ul><li><a class="module" href="kameloso.plugins.admin.html">admin</a></li><li><a class="module" href="kameloso.plugins.automode.html">automode</a></li><li><a class="module" href="kameloso.plugins.chatbot.html">chatbot</a></li><li><a class="module" href="kameloso.plugins.common.html">common</a></li><li><a class="module" href="kameloso.plugins.counter.html">counter</a></li><li><a class="module" href="kameloso.plugins.help.html">help</a></li><li><a class="module" href="kameloso.plugins.notes.html">notes</a></li><li><a class="module" href="kameloso.plugins.oneliners.html">oneliners</a></li><li><a class="module" href="kameloso.plugins.pipeline.html">pipeline</a></li><li><a class="module" href="kameloso.plugins.printer.html">printer</a></li><li><a class="module" href="kameloso.plugins.quotes.html">quotes</a></li><li><a class="module" href="kameloso.plugins.sedreplace.html">sedreplace</a></li><li><a class="module" href="kameloso.plugins.seen.html">seen</a></li><li><a class="module" href="kameloso.plugins.services.html">services</a></li><li><a class="module" href="kameloso.plugins.stopwatch.html">stopwatch</a></li><li><a class="module" href="kameloso.plugins.twitchbot.html">twitchbot</a></li><li><a class="module" href="kameloso.plugins.votes.html">votes</a></li><li><a class="module current" href="kameloso.plugins.webtitles.html">webtitles</a></li></ul><span class="type-separator">aliases</span><ul><li><a class="alias" href="kameloso.plugins.PluginModules.html">PluginModules</a></li></ul></div>
	</div>
	<div id="page-footer">Page generated by <a href="https://github.com/adamdruppe/adrdox">adrdox</a></div>
</body>
</html>