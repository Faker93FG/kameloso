<!DOCTYPE html>
<html lang="en">
<head>
        <title>kameloso.plugins.common.core (kameloso.plugins.common.core)</title>
	<meta charset="utf-8" />
	<meta content="width=device-width, initial-scale=1" name="viewport" />
        <link href="style.css" rel="stylesheet" />
        <script src="script.js" type="text/javascript"></script>

	
	<link href="search-results.html" rel="prefetch" />
</head>
<body>
	<div id="page-header">
		<div id="logotype">
		<span>kameloso IRC bot</span>
		<nav>
			<a href="http://dlang.org/">Dlang.org</a>
		</nav>
		</div>

		<form action="search-docs.html" id="search">
			<input name="searchTerm" placeholder="Find a symbol name..." type="search" />
			<input type="submit" value="Go" />
		</form>
	</div>
	<div id="page-body">
		<div id="page-content">
		<h1>kameloso.plugins.common.core</h1><div class="breadcrumbs"><a class="breadcrumb" href="kameloso.html">kameloso</a> <a class="breadcrumb" href="kameloso.plugins.html">plugins</a> <a class="breadcrumb" href="kameloso.plugins.common.html">common</a> </div><div><div class="documentation-comment synopsis"><div><p>Contains the definition of an <a class="xref" href="kameloso.plugins.common.core.IRCPlugin.html">IRCPlugin</a> and its ancilliaries, as well as
    mixins to fully implement it.</p><p>Event handlers can then be module-level functions, annotated with
    <a class="xref" href="dialect.defs.IRCEvent.Type.html">dialect.defs.IRCEvent.Type</a>s.</p></div></div></div><div class="annotated-prototype"></div><h2 id="members"><a class="header-anchor" href="#members">Members</a></h2><h3 class="member-list-header hide-from-toc" id="class"><a class="header-anchor" href="#class">Classes</a></h3><dl class="member-list native"><dt><a href="kameloso.plugins.common.core.IRCPlugin.html">IRCPlugin</a><div class="simplified-prototype" style="max-width: 16ch;"><span class="builtin-type">class</span> <span class="name">IRCPlugin</span></div></dt><dd><div><p>Abstract <a class="xref" href="kameloso.plugins.common.core.IRCPlugin.html">IRCPlugin</a> class.</p></div></dd><dt><a href="kameloso.plugins.common.core.IRCPluginInitialisationException.html">IRCPluginInitialisationException</a><div class="simplified-prototype" style="max-width: 41ch;"><span class="builtin-type">class</span> <span class="name">IRCPluginInitialisationException</span></div></dt><dd><div><p>Exception thrown when an IRC plugin failed to initialise itself or its resources.</p></div></dd><dt><a href="kameloso.plugins.common.core.Replay.html">Replay</a><div class="simplified-prototype" style="max-width: 13ch;"><span class="builtin-type">class</span> <span class="name">Replay</span></div></dt><dd><div><p>A queued event to be replayed upon a WHOIS query response.</p></div></dd><dt><a href="kameloso.plugins.common.core.ReplayImpl.html">ReplayImpl</a><div class="simplified-prototype" style="max-width: 47ch;"><span class="builtin-type">class</span> <span class="name">ReplayImpl</span><span class="template-params">(F, Payload = typeof(null))</span></div></dt><dd><div><p>Implementation of the notion of a function call with a bundled payload
    <a class="xref" href="dialect.defs.IRCEvent.html">dialect.defs.IRCEvent</a>, used to replay a previous event.</p></div></dd></dl><h3 class="member-list-header hide-from-toc" id="enum"><a class="header-anchor" href="#enum">Enums</a></h3><dl class="member-list native"><dt><a href="kameloso.plugins.common.core.Chainable.html">Chainable</a><div class="simplified-prototype" style="max-width: 15ch;"><span class="builtin-type">enum</span> <span class="name">Chainable</span></div></dt><dd><div><p>Annotation denoting that an event-handling function should let other functions in
    the same module process after it.</p></div></dd><dt><a href="kameloso.plugins.common.core.ChannelPolicy.html">ChannelPolicy</a><div class="simplified-prototype" style="max-width: 19ch;"><span class="builtin-type">enum</span> <span class="name">ChannelPolicy</span></div></dt><dd><div><p>Whether an annotated function should be allowed to trigger on events in only
    home channels or in guest ones as well.</p></div></dd><dt><a href="kameloso.plugins.common.core.Configuration.html">Configuration</a><div class="simplified-prototype" style="max-width: 19ch;"><span class="builtin-type">enum</span> <span class="name">Configuration</span></div></dt><dd><div><p>Annotation denoting that a variable is the basename of a configuration
    file or directory.</p></div></dd><dt><a href="kameloso.plugins.common.core.Enabler.html">Enabler</a><div class="simplified-prototype" style="max-width: 13ch;"><span class="builtin-type">enum</span> <span class="name">Enabler</span></div></dt><dd><div><p>Annotation denoting that a variable enables and disables a plugin.</p></div></dd><dt><a href="kameloso.plugins.common.core.FilterResult.html">FilterResult</a><div class="simplified-prototype" style="max-width: 18ch;"><span class="builtin-type">enum</span> <span class="name">FilterResult</span></div></dt><dd><div><p>The tristate results from comparing a username with the admin or whitelist lists.</p></div></dd><dt><a href="kameloso.plugins.common.core.PermissionsRequired.html">PermissionsRequired</a><div class="simplified-prototype" style="max-width: 26ch;"><span class="builtin-type">enum</span> <span class="name">PermissionsRequired</span></div></dt><dd><div><p>What level of permissions is needed to trigger an event handler.</p></div></dd><dt><a href="kameloso.plugins.common.core.PrefixPolicy.html">PrefixPolicy</a><div class="simplified-prototype" style="max-width: 18ch;"><span class="builtin-type">enum</span> <span class="name">PrefixPolicy</span></div></dt><dd><div><p>In what way the contents of a <a class="xref" href="dialect.defs.IRCEvent.html">dialect.defs.IRCEvent</a> must start (be &quot;prefixed&quot;)
    for an annotated function to be allowed to trigger.</p></div></dd><dt><a href="kameloso.plugins.common.core.Resource.html">Resource</a><div class="simplified-prototype" style="max-width: 14ch;"><span class="builtin-type">enum</span> <span class="name">Resource</span></div></dt><dd><div><p>Annotation denoting that a variable is the basename of a resource file or directory.</p></div></dd><dt><a href="kameloso.plugins.common.core.Settings.html">Settings</a><div class="simplified-prototype" style="max-width: 14ch;"><span class="builtin-type">enum</span> <span class="name">Settings</span></div></dt><dd><div><p>Annotation denoting that a struct variable or struct type is to be considered
    as housing settings for a plugin, and should thus be serialised and saved in
    the configuration file.</p></div></dd><dt><a href="kameloso.plugins.common.core.Terminating.html">Terminating</a><div class="simplified-prototype" style="max-width: 17ch;"><span class="builtin-type">enum</span> <span class="name">Terminating</span></div></dt><dd><div><p>Annotation denoting that an event-handling function is the end of a chain,
    letting no other functions in the same module be triggered after it has been.</p></div></dd><dt><a href="kameloso.plugins.common.core.Verbose.html">Verbose</a><div class="simplified-prototype" style="max-width: 13ch;"><span class="builtin-type">enum</span> <span class="name">Verbose</span></div></dt><dd><div><p>Annotation denoting that we want verbose debug output of the plumbing when
    handling events, iterating through the module's event handler functions.</p></div></dd></dl><h3 class="member-list-header hide-from-toc" id="function"><a class="header-anchor" href="#function">Functions</a></h3><dl class="member-list native"><dt><a href="kameloso.plugins.common.core.filterSender.html">filterSender</a><div class="simplified-prototype" style="max-width: 99ch;"><tt class="highlighted"><span class="hid">FilterResult</span></tt> <span class="name">filterSender</span>(IRCEvent event, PermissionsRequired level, bool preferHostmasks)</div></dt><dd><div><p>Decides if a sender meets a <a class="xref" href="kameloso.plugins.common.core.PermissionsRequired.html">PermissionsRequired</a> and is allowed to trigger an event
    handler, or if a WHOIS query is needed to be able to tell.</p></div></dd><dt><a href="kameloso.plugins.common.core.prefixPolicyMatches.html">prefixPolicyMatches</a><div class="simplified-prototype" style="max-width: 103ch;"><tt class="highlighted"><span class="type">bool</span></tt> <span class="name">prefixPolicyMatches</span>(IRCEvent event, PrefixPolicy policy, IRCClient client, string prefix)</div></dt><dd><div><p>Evaluates whether or not the message in an event satisfies the <a class="xref" href="kameloso.plugins.common.core.PrefixPolicy.html">PrefixPolicy</a>
    specified, as fetched from a <a class="xref" href="kameloso.plugins.common.core.BotCommand.html">BotCommand</a> or <a class="xref" href="kameloso.plugins.common.core.BotRegex.html">BotRegex</a> UDA.</p></div></dd><dt><a href="kameloso.plugins.common.core.replay.1.html">replay</a><div class="simplified-prototype" style="max-width: 108ch;"><tt class="highlighted"><span class="hid">Replay</span></tt> <span class="name">replay</span>(SubPlugin subPlugin, IRCEvent event, PermissionsRequired perms, Fn fn, string caller)</div></dt><dd><div><p>Convenience function that returns a <a class="xref" href="kameloso.plugins.common.core.ReplayImpl.html">ReplayImpl</a> of the right type,
    *with* a subclass plugin reference attached.</p></div></dd><dt><a href="kameloso.plugins.common.core.replay.2.html">replay</a><div class="simplified-prototype" style="max-width: 85ch;"><tt class="highlighted"><span class="hid">Replay</span></tt> <span class="name">replay</span>(IRCEvent event, PermissionsRequired perms, Fn fn, string caller)</div></dt><dd><div><p>Convenience function that returns a <a class="xref" href="kameloso.plugins.common.core.ReplayImpl.html">ReplayImpl</a> of the right type,
    *without* a subclass plugin reference attached.</p></div></dd></dl><h3 class="member-list-header hide-from-toc" id="mixin template"><a class="header-anchor" href="#mixin template">Mixin templates</a></h3><dl class="member-list native"><dt><a href="kameloso.plugins.common.core.IRCPluginImpl.html">IRCPluginImpl</a><div class="simplified-prototype" style="max-width: 99ch;"><span class="builtin-type">mixintemplate</span> <span class="name">IRCPluginImpl</span><span class="template-params">(Flag!&quot;debug_&quot; debug_ = No.debug_, string module_ = __MODULE__)</span></div></dt><dd><div><p>Mixin that fully implements an <a class="xref" href="kameloso.plugins.common.core.IRCPlugin.html">IRCPlugin</a>.</p></div></dd></dl><h3 class="member-list-header hide-from-toc" id="struct"><a class="header-anchor" href="#struct">Structs</a></h3><dl class="member-list native"><dt><a href="kameloso.plugins.common.core.BotCommand.html">BotCommand</a><div class="simplified-prototype" style="max-width: 18ch;"><span class="builtin-type">struct</span> <span class="name">BotCommand</span></div></dt><dd><div><p>Defines an IRC bot command, for people to trigger with messages.</p></div></dd><dt><a href="kameloso.plugins.common.core.BotRegex.html">BotRegex</a><div class="simplified-prototype" style="max-width: 16ch;"><span class="builtin-type">struct</span> <span class="name">BotRegex</span></div></dt><dd><div><p>Defines an IRC bot regular expression, for people to trigger with messages.</p></div></dd><dt><a href="kameloso.plugins.common.core.Description.html">Description</a><div class="simplified-prototype" style="max-width: 19ch;"><span class="builtin-type">struct</span> <span class="name">Description</span></div></dt><dd><div><p>Describes an <a class="xref" href="dialect.defs.IRCEvent.html">dialect.defs.IRCEvent</a>-annotated handler function.</p></div></dd><dt><a href="kameloso.plugins.common.core.IRCPluginState.html">IRCPluginState</a><div class="simplified-prototype" style="max-width: 23ch;"><span class="builtin-type">struct</span> <span class="name">IRCPluginState</span></div></dt><dd><div><p>An aggregate of all variables that make up the common state of plugins.</p></div></dd><dt><a href="kameloso.plugins.common.core.Repeat.html">Repeat</a><div class="simplified-prototype" style="max-width: 14ch;"><span class="builtin-type">struct</span> <span class="name">Repeat</span></div></dt><dd><div><p>An event to be repeated from the context of the main loop after having
    re-postprocessed it.</p></div></dd></dl><div><h2 id="examples"><a class="header-anchor" href="#examples">Examples</a></h2><div class="documentation-comment"><div><pre class="d_code highlighted with-line-wrappers"><span class="br">1 </span><span class="kwrd">import</span> <span class="hid">kameloso</span>.<span class="hid">plugins</span>.<span class="hid">common</span>.<span class="hid">core</span>;
<span class="br">2 </span><span class="kwrd">import</span> <span class="hid">kameloso</span>.<span class="hid">plugins</span>.<span class="hid">common</span>.<span class="hid">awareness</span>;
<span class="br">3 </span>
<span class="br">4 </span>@(<span class="hid">IRCEvent</span>.<span class="hid">Type</span>.<span class="hid">CHAN</span>)
<span class="br">5 </span>@(<span class="hid">ChannelPolicy</span>.<span class="hid">home</span>)
<span class="br">6 </span>@(<span class="hid">PermissionsRequired</span>.<span class="hid">anyone</span>)
<span class="br">7 </span>@<span class="hid">BotCommand</span>(<span class="hid">PrefixPolicy</span>.<span class="hid">prefixed</span>, <span class="str">&quot;foo&quot;</span>)
<span class="br">8 </span><span class="type">void</span> <span class="hid">onFoo</span>(<span class="hid">FooPlugin</span> <span class="hid">plugin</span>, <span class="kwrd">const</span> <span class="kwrd">ref</span> <span class="hid">IRCEvent</span> <span class="hid">event</span>)
<span class="br">9 </span>{
<span class="br">10 </span>    <span class="com">// ...</span>
<span class="br">11 </span>}
<span class="br">12 </span>
<span class="br">13 </span><span class="kwrd">mixin</span> <span class="hid">UserAwareness</span>;
<span class="br">14 </span><span class="kwrd">mixin</span> <span class="hid">ChannelAwareness</span>;
<span class="br">15 </span>
<span class="br">16 </span><span class="kwrd">final</span> <span class="kwrd">class</span> <span class="hid">FooPlugin</span> : <span class="hid">IRCPlugin</span>
<span class="br">17 </span>{
<span class="br">18 </span>    <span class="com">// ...</span>
<span class="br">19 </span>
<span class="br">20 </span>    <span class="kwrd">mixin</span> <span class="hid">IRCPluginImpl</span>;
<span class="br">21 </span>}</pre></div></div></div></div>
		<div id="page-nav"><a class="parent" href="kameloso.html">kameloso</a> <a class="parent" href="kameloso.plugins.html">plugins</a> <a class="parent" href="kameloso.plugins.common.html">common</a> 
		<span class="type-separator">modules</span><ul><li><a class="module" href="kameloso.plugins.common.awareness.html">awareness</a></li><li><a class="module" href="kameloso.plugins.common.base.html">base</a></li><li><a class="module current" href="kameloso.plugins.common.core.html">core</a></li><li><a class="module" href="kameloso.plugins.common.delayawait.html">delayawait</a></li><li><a class="module" href="kameloso.plugins.common.mixins.html">mixins</a></li></ul></div>
	</div>
	<div id="page-footer">Page generated by <a href="https://github.com/adamdruppe/adrdox">adrdox</a></div>
</body>
</html>